# 🔗 CF 网络中继 (CF Network Relay)

一个 CF Workers 脚本，通过 CF 的网络去访问其他网站或下载文件。好处是，如果直接访问某个资源不太稳定或者速度慢，用这个脚本中转一下，可能会变得更流畅、更不容易断开。

## ✨ 主要能做啥

*   **让连接更稳**: 把你的网络请求先发给遍布全球的 CF 服务器，再由 CF 服务器去请求你真正想访问的目标。这样可以避开一些不稳定的网络路径，让连接更可靠，特别适合下载大文件。
*   **自动处理网址**: 如果你只输入了类似 `example.com` 这样的域名，它会自动帮你补全成 `https://example.com`。也会检查一下你输入的网址格式对不对。
*   **调整请求细节 (可配置)**:
    *   默认情况下，它会去掉你发出去的请求里的一些信息，比如 `Origin` 和 `Referer` 头。
    *   你可以通过修改脚本里的 `specialCases` 设置，来控制怎么处理发往特定网站或所有网站的请求头。比如，你可以选择保留某些请求头（对下载断点续传可能有用），或者删掉某些，或者设置成特定的值。
*   **方便网页内使用**: 它会自动给中转过来的响应加上一些必要的HTTP头部 (比如 `Access-Control-Allow-Origin: *`)。这样，如果你想在自己的网页里通过这个脚本去加载图片、数据什么的，就不太会遇到跨域问题。
*   **出错会告诉你**: 如果你给的网址不对，或者中转的时候出了问题，它会尽量给出明确的提示。

## 🛠️ 可调的配置项

脚本里有一个叫做 `specialCases` 的 JavaScript 对象，你可以修改它来影响脚本的行为：

```javascript
const specialCases = {
  "*": { // 这个星号 "*" 代表默认规则，对所有目标网站都生效
    "Origin": "DELETE",     // 表示删掉 Origin 请求头
    "Referer": "DELETE"     // 表示删掉 Referer 请求头
    // 你可以加更多规则，比如：
    // "User-Agent": "MyCustomClient/1.0" // 把 User-Agent 设置成这个值
  },
  "your-target-domain.com": { // 你也可以为某个特定的域名设置规则
    "X-Custom-Header": "MyValue", // 给发往这个域名的请求加上或设置 X-Custom-Header
    "Authorization": "KEEP"       // 保留原始请求中的 Authorization 头 (如果原来有的话)
  }
  // ...可以加更多特定域名的规则
};
